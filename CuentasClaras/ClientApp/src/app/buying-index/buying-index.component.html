<div class="view intro">

  <!-- Content -->
  <div class="container px-md-3 px-sm-0">

    <!--Grid row-->
    <div class="row wow fadeIn">

      <!--Grid column-->
      <div class="col-md-12 mb-4 wow fadeIn">
        <div class=" text-center ">

          <h2 class="h1-responsive font-weight-bold my-5  text-center">Índice de Desempeño en las Contrataciones Públicas</h2>
          <hr class="hr-light my-4 w-75">
          <h4 class="subtext-header mt-2 mb-4">El Índice de Desempeño en las Contrataciones Públicas es una medida
            resumen de variables claves de las compras y contrataciones de los organismos públicos. Es un índice
            penalizador, por lo que valores más altos implican un peor desempeño. El valor máximo de 8 puntos.</h4>

          <div style="text-align: center">
            <a mdbBtn [href]="'/assets/database/INDEX/index.csv'"
               class="waves-light custom-btn-color"
               mdbWavesEffect>
              <i class="fa fa-download"></i> Descargar
            </a>
          </div>
          <hr class="hr-light my-4 w-75">
        </div>
        <div>

          <app-year-filter [years]="years" [defaultYear]="selectedYear$ | async"
                           (selectedYear)="indexSelectedYear($event)">
          </app-year-filter>

          <ngx-datatable
            class="material"
            [rows]="indexData"
            [limit]="10"
            [columnMode]="'flex'"
            [rowHeight]="'auto'"
            [headerHeight]="'auto'"
            [footerHeight]="50"
            [loadingIndicator]="indexDataLoading">
            <ngx-datatable-column name="#" [flexGrow]="1">
              <ng-template let-rowIndex="rowIndex" ngx-datatable-cell-template>
                {{rowIndex+1}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column prop="organistationShortName" name="Organismo" [flexGrow]="1">
              <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                {{value}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column prop="performanceIndex" name="Puntaje" [flexGrow]="1">
              <ng-template let-value="value" ngx-datatable-cell-template>
                <ng-template #popTemplate>{{value}}</ng-template>
                <star-rating [mdbTooltip]="popTemplate" data-container="body"
                             [readOnly]="true"
                             style="float: left"
                             staticColor="negative"
                             [showHalfStars]="true"
                             [starType]="'svg'"
                             [rating]="value">
                </star-rating>
              </ng-template>
            </ngx-datatable-column>
          </ngx-datatable>
        </div>

      </div>
      <!--Grid column-->

    </div>
    <!--Grid row-->

  </div>
  <!-- Content -->

</div>
